NPL bin dir: C:\Users\linfe\ParaCraftSDK\NPLRuntime\win\bin\
no packages at: C:\Users\linfe\ParaCraftSDK\NPLRuntime\win\packages
ParaEngine.sig file not found
WorkingDir: C:\Users\linfe\TableDB\setup\server3
Development directory is set to : ../../
OS information:
OS version:Microsoft  (build 9200), 64-bit
Number of processors:4
Processor type:586
TotalPhysicalMemory:8268900
FreePhysicalMemory:3397520

ParaEngine Root Dir is C:/Users/linfe/TableDB/setup/server3/
search path: ../../npl_packages/main/
./packages dir: C:/Users/linfe/TableDB/setup/server3/
main loop: npl_mod/TableDBApp/App.lua 
CAssetManifest loaded 0 files
CAsyncLoader is started with 1 IO thread and 2 worker thread
Absolute path is used for dll: PhysicsBT.dll
LoadLibrary (PhysicsBT.dll) failed with error 87: 参数错误。

Failed loading plug-in: PhysicsBT.dll
note: no physics engine found, null physics is used 
warning: script file script/config.lua not found
font System;12;bold is created 
(main) state is now running in a separate thread. It is more responsive now. 
ParaEngine LuaJIT 32bits version:LuaJIT 2.0.3
Jit status:true, CMOV, SSE2, SSE3, SSE4.1, fold, cse, dce, fwd, dse, narrow, loop, abc, sink, fuse 
ffi loaded shared lib: ParaEngineClient
warning: script file npl_mod/Raft/RpcClient.lua not found
2017-07-06 23:45:05|main|INFO|App|app arg:8003server
2017-07-06 23:45:05|main|INFO|App|config:{ logIndex = 0, servers = { { endpoint = "tcp://localhost:9001", id = 1 }, { endpoint = "tcp://localhost:9002", id = 2 }, { endpoint = "tcp://localhost:9003", id = 3 } }, lastLogIndex = 0 }
2017-07-06 23:45:05|main|INFO|App|local state info{ host = "localhost", authority = "localhost:9003", scheme = "tcp", port = "9003" }
2017-07-06 23:45:05|main|INFO|RaftServer|Server 3 started
2017-07-06 23:45:05|main|INFO|Rpc|RaftRequestRPCInit installed to file Rpc/RaftRequestRPCInit.lua
2017-07-06 23:45:05|main|INFO|Rpc|RTDBRequestRPC installed to file Rpc/RTDBRequestRPC.lua
2017-07-06 23:45:05|main|INFO|RpcListener|startListening
2017-07-06 23:45:05|main|INFO|Rpc|RaftRequestRPC installed to file Rpc/RaftRequestRPC.lua
NPL server 0.1 is listening on localhost:9003
TCPKeepAlive: true
AppKeepAlive: false
IdleTimeout: true
IdleTimeoutPeriod: 1200000
ParaEngine LuaJIT 32bits version:LuaJIT 2.0.3
UseCompression(incoming): false
Jit status:true, CMOV, SSE2, SSE3, SSE4.1, fold, cse, dce, fwd, dse, narrow, loop, abc, sink, fuse 
CompressionLevel: -1
CompressionThreshold: 204800
ffi loaded shared lib: ParaEngineClient
2017-07-06 23:45:05|main|ERROR|Rpc|activate on server1:Rpc/RaftRequestRPCInit.lua failed 2, msg type:run
2017-07-06 23:45:05|main|ERROR|Rpc|activate on server2:Rpc/RaftRequestRPCInit.lua failed 2, msg type:run
2017-07-06 23:45:05|main|ERROR|Rpc|activate on server3:Rpc/RaftRequestRPCInit.lua failed 2, msg type:run
NPL max pending incoming connections allowed is 1000
2017-07-06 23:45:05|tdb|info|TableDatabase|IO thread started in NPL thread: tdb
2017-07-06 23:45:05|4112|incoming connection (::1/63837) is established and assigned a temporary id (~1). 
2017-07-06 23:45:06|4112|incoming connection (::1/63826) is established and assigned a temporary id (~2). 
2017-07-06 23:45:06|4112|incoming connection (::1/63831) is established and assigned a temporary id (~3). 
2017-07-06 23:45:10|main|INFO|RaftServer|received a configuration change at index 1 from leader
2017-07-06 23:45:10|main|ERROR|RaftServer|committed an empty LogEntry at 0 !!
2017-07-06 23:45:10|main|INFO|RaftServer|configuration at index 1 is committed
2017-07-06 23:45:37|4112|incoming connection (::1/63926) is established and assigned a temporary id (~4). 
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "connect", query = { rootFolder = "dummyDatabase/" }, cb_index = -1, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "makeEmpty", collection = { name = "User", db = "temp/test_raft_database/" }, query = { }, cb_index = 1, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|tdb|info|TableDatabase|table database: temp/test_raft_database/ is opened.
try create database file temp/test_raft_database/User.db
database:temp/test_raft_database/User.db opened
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "insertOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { update = { name = "1", email = "1@1" } }, cb_index = 2, callbackThread = "(tdb)", serverId = "server4:" }
sql db closed: temp/test_raft_database/User.db
database:temp/test_raft_database/User.db opened
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "insertOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { update = { name = "1", email = "1@1.dup" } }, cb_index = 3, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { name = "1" }, cb_index = 4, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { name = "1", email = "1@1" }, cb_index = 5, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { ["+name+email"] = { "1", "1@1" } }, cb_index = 6, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "insertOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { update = { name = "LXZ", password = "123" } }, cb_index = 7, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "insertOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { query = { name = "LXZ" }, update = { password = "1", email = "lixizhi@yeah.net", name = "LXZ" } }, cb_index = 8, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "insertOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { query = { name = "LXZ2" }, update = { password = "123", email = "lixizhi@yeah.net", name = "LXZ2" } }, cb_index = 9, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "updateOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { query = { name = "LXZ2" }, update = { password = "2", email = "lixizhi@yeah.net", name = "LXZ2" } }, cb_index = 10, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "updateOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { query = { name = "LXZ2" }, update = { _unset = { "password" }, updated = "with unset" } }, cb_index = 11, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "replaceOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { query = { name = "LXZ2" }, replacement = { name = "LXZ2", email = "lixizhi@yeah.net" } }, cb_index = 12, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "flush", collection = { name = "User", db = "temp/test_raft_database/" }, query = { }, cb_index = 13, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "findOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { name = "LXZ" }, cb_index = 14, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "findOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { name = "LXZ", { "password", "1" }, { "email", "lixizhi@yeah.net" } }, cb_index = 15, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { email = "lixizhi@yeah.net" }, cb_index = 16, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { name = "LXZ", email = "lixizhi@yeah.net", { "password", "1" } }, cb_index = 17, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { }, cb_index = 18, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "deleteOne", collection = { name = "User", db = "temp/test_raft_database/" }, query = { name = "LXZ2" }, cb_index = 19, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "waitflush", collection = { name = "User", db = "temp/test_raft_database/" }, query = { }, cb_index = 20, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "exec", collection = { name = "User", db = "temp/test_raft_database/" }, query = { CacheSize = -2000 }, cb_index = 21, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "exec", collection = { name = "User", db = "temp/test_raft_database/" }, query = "Select * from Collection", cb_index = 22, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "removeIndex", collection = { name = "User", db = "temp/test_raft_database/" }, query = { "email", "name" }, cb_index = 23, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { { "name", "LXZ" }, { "password", "1" } }, cb_index = 24, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { ["+name"] = { limit = 2, "1" } }, cb_index = 25, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|main|INFO|RaftTableDBStateMachine|commit:{ query_type = "find", collection = { name = "User", db = "temp/test_raft_database/" }, query = { _id = { gt = -1, limit = 1, false } }, cb_index = 26, callbackThread = "(tdb)", serverId = "server4:" }
2017-07-06 23:45:39|tdb|system|SqliteStore|temp/test_raft_database/User.db is recreated either because it does not exist or needs update
2017-07-06 23:45:39|tdb|debug|SqliteStore|db: temp/test_raft_database/User.db PRAGMA journal_mode WAL
2017-07-06 23:45:39|tdb|info|SqliteStore|collection User opened
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|tdb|info|SqliteStore|index table is created for `name` with 1 records
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|tdb|info|SqliteStore|index table is created for `email` with 2 records
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|tdb|info|SqliteStore|compound index table is created for `+name+email` (subkey count 2) with 2 records
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|tdb|debug|SqliteStore|db: temp/test_raft_database/User.db set cache_size= -2000
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|tdb|info|SqliteStore|index `email` removed from temp/test_raft_database/User.db
2017-07-06 23:45:39|tdb|info|SqliteStore|index `name` removed from temp/test_raft_database/User.db
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:39|main|ERROR|Rpc|activate on (tdb)server4:Rpc/RTDBRequestRPC.lua failed 1, msg type:run
2017-07-06 23:45:44|tdb|debug|SqliteStore|db: temp/test_raft_database/User.db CHECKPOINT takes 31ms
2017-07-06 23:46:18|4112|incoming connection (::1/64043) is established and assigned a temporary id (~5). 
2017-07-06 23:48:23|4112|incoming connection (::1/64402) is established and assigned a temporary id (~6). 
network: handle_read stopped, asio msg: 远程主机强迫关闭了一个现有的连接。. Connection will be closed 
2017-07-07 0:05:07|4112|connection closed (localhost/9002) with id (server2). 
2017-07-07 0:05:07|4112|connection time out (::1/63831) with id (~3). 
2017-07-07 0:05:07|4112|connection time out (::1/63837) with id (~1). 
2017-07-07 0:05:07|4112|connection closed (::1/63831) with id (~3). 
2017-07-07 0:05:07|4112|connection closed (::1/63837) with id (~1). 
network: handle_read stopped, asio msg: 远程主机强迫关闭了一个现有的连接。. Connection will be closed 
2017-07-07 0:05:07|4112|connection closed (localhost/9003) with id (server3). 
2017-07-07 0:05:37|4112|connection time out (::1/63926) with id (~4). 
2017-07-07 0:05:37|4112|connection closed (::1/63926) with id (~4). 
2017-07-07 0:06:20|4112|connection time out (::1/64043) with id (~5). 
2017-07-07 0:06:20|4112|connection closed (::1/64043) with id (~5). 
2017-07-07 0:08:24|4112|connection time out (::1/64402) with id (~6). 
2017-07-07 0:08:24|4112|connection closed (::1/64402) with id (~6). 
2017-07-07 3:24:43|4112|connection time out (::1/63826) with id (server1:). 
2017-07-07 3:24:44|main|INFO|RaftServer|requestVote started with term 2
2017-07-07 3:24:44|4112|connection closed (::1/63826) with id (server1:). 
2017-07-07 3:24:44|main|ERROR|Rpc|activate on server2:Rpc/RaftRequestRPC.lua failed 2, msg type:run
2017-07-07 3:24:44|main|INFO|RaftServer|peer response error: activate server2: from 3 failed(2), err:
network: handle_read stopped, asio msg: End of file. Connection will be closed 
2017-07-07 3:24:44|4112|incoming connection (::1/62597) is established and assigned a temporary id (~7). 
2017-07-07 3:24:44|4112|connection closed (localhost/9001) with id (server1). 
2017-07-07 3:24:45|4112|incoming connection (::1/62599) is established and assigned a temporary id (~8). 
